<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Compression and Decompression</title>
    <style>
        .form-container {
            display: flex;
            flex-wrap: wrap;
        }

        .form-field {
            flex: 1;
            padding: 10px;
        }
    </style>
</head>
<body>
    <form action="/process" method="POST">
        <div class="form-container">
            <div class="form-field">
                <label for="style_preservation_score_target">Style Preservation Target:</label>
                <input type="range" name="style_preservation_score_target" min="0.6" max="1" step="0.01" value="0"><br>

                <label for="semantic_preservation_score_target">Semantic Preservation Target:</label>
                <input type="range" name="semantic_preservation_score_target" min="0.9" max="1" step="0.01" value="0"><br>

                <label for="gpt_score_target">GPT Score Target:</label>
                <input type="range" name="gpt_score_target" min="0" max="1" step="0.01" value="0.85">
            </div><br><br>

            <div class="form-field">
                <label for="max_tokens">max_tokens:</label>
                <input type="number" name="max_tokens" value="1000"><br>

                <label for="temperature">temperature:</label>
                <input type="range" name="temperature" min="0" max="1" step="0.01" value="0.5"><br>

                <label for="top_p">top_p:</label>
                <input type="range" name="top_p" min="0" max="1" step="0.01" value="1"><br>

                <label for="frequency_penalty">frequency_penalty:</label>
                <input type="range" name="frequency_penalty" min="0" max="2" step="0.01" value="0"><br>

                <label for="presence_penalty">presence_penalty:</label>
                <input type="range" name="presence_penalty" min="0" max="2" step="0.01" value="0">
            </div><br><br>
            
            <div class="form-field">
                <label for="bleu_score_target">bleu_score_target:</label>
                <input type="range" name="bleu_score_target" min="0" max="1" step="0.01" value="0.3"><br>

                <label for="rouge_score_target">rouge_score_target:</label>
                <input type="range" name="rouge_score_target" min="0" max="1" step="0.01" value="0.4">
            </div>  
        </div><br>
        <div class="form-container">
            <div class="form-field">
                <label for="original_text">Original Text</label><br>
                <textarea name="original_text" rows="20" cols="35"></textarea><br>

                <input type="submit" value="Submit"><br><br>
            </div>

            <div class="form-field">
                <label for="compressor_prompt_candidate">Compressor Prompt:</label><br>
                <textarea name="compressor_prompt_candidate" rows="20" cols="35">Compressor: Your task is to compress the following text to a compression ratio of 0.5 (or less) of its original length while preserving as much information and meaning as possible. Wherever you think it is best, you can use clear abbreviations, symbols, or emojis to represent the original content to prevent ambiguity as concisely as possible. The compressed output should be something that you, as a language model, can understand and reconstruct the original text from. It does not need to be human-readable, but it should be easy for another GPT instance to interpret. Here is the text:</textarea><br>

                <select name="compressor_model">
                    <option value="text-babbage-001">text-babbage-001</option>
                    <option value="text-ada-001">text-ada-001</option>
                    <option value="text-davinci-002">text-davinci-002</option>
                    <option value="text-curie-001">text-curie-001</option>
                </select>
            </div>

            <div class="form-field">
                <label for="decompressor_prompt_candidate">Decompressor Prompt:</label><br>
                <textarea name="decompressor_prompt_candidate" rows="20" cols="35">Decompressor: A separate GPT instance was given the following text and asked to compress it to a compression ratio of 0.5 (or less) of its original size while preserving as much information and meaning as possible. The compressed output is provided below. Your task is to reconstruct the original text as closely as possible based on the compressed information. If you encounter any ambiguous abbreviations, symbols, or emojis, please try to reconstruct the most likely original meaning. Avoid introducing new information or changing the meaning of the content. Here is the compressed text:</textarea><br>

                <label for="decompressor_model">Model:</label>
                <select name="decompressor_model">
                    <option value="text-babbage-001">text-babbage-001</option>
                    <option value="text-ada-001">text-ada-001</option>
                    <option value="text-davinci-002">text-davinci-002</option>
                    <option value="text-curie-001">text-curie-001</option>>
                </select>
            </div>

            <div class="form-field">
                <label for="reflection_prompt_candidate">Reflection Prompt:</label><br>
                <textarea name="reflection_prompt_candidate" rows="20" cols="30">Compression Algorithm Assistant: Reflect on the results of using the compressor and decompressor prompts. Consider improvements. Assign a semantic_preservation_score (0-1) to evaluate the precision of the compression/decompression algorithm. A score of 1 allows for changed words/phrases in the decompressed text, but absolutely nothing is lost in meaning. Be strict, knock off points for any lost meanings, connotations or interpretations. Also provide a style_preservation_score, evaluating the change in literary style between the original and decompressed texts. Then, create an overall gpt_score in which the semantic score is weighted 10 times more than the style score. Based on your reflections, create new prompts for the compressor and decompressor. Provided below are the original text, compressor prompt, decompressor prompt, compressed text, decompressed text and compression ratio.</textarea><br>

                <label for="assistant_model">Model:</label>
                <select name="assistant_model">
                    <option value="text-davinci-003">text-davinci-003</option>
                    <option value="text-davinci-002">text-davinci-002</option>
                    <option value="text-babbage-001">text-babbage-001</option>
                    <option value="text-ada-001">text-ada-001</option>
                    <option value="text-curie-001">text-curie-001</option>
                </select>
            </div>
        </div><br><br>
    </form>
</body>
</html>